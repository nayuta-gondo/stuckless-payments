@startuml
title Stuckless Payments - Stuck
participant Alice
participant Bob
participant Carol
participant Dave

== Update ==

Alice -> Bob: update_add_htlc
Alice <-> Bob: commit

Bob -> Carol: update_add_htlc
Bob <-> Carol: commit

Carol -> Dave: update_add_htlc
Carol <-> Dave: commit

Dave -> Carol: ACK
Carol -> Bob: ACK
Bob -> Alice: ACK

Alice -> Dave: send A's preimage

== Settlement ==

Dave ->x Alice: send D's preimage

@enduml
