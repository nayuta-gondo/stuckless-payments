@startuml
title Settlement Phase - Front-loaded PoP
participant Alice
participant Bob
participant Carol
participant Dave

== Settlement ==

Dave -> Alice: Send D's PreImage

Dave -> Carol: update_fulfill_htlc\n- A's PreImage\n- D's PreImage
Carol -> Bob: update_fulfill_htlc\n- A's PreImage\n- D's PreImage
Bob -> Alice: update_fulfill_htlc\n- A's PreImage\n- D's PreImage

Dave <-> Carol: Commit
Carol <-> Bob: Commit
Bob <-> Alice: Commit

@enduml
