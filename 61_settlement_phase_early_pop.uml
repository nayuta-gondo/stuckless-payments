@startuml
title Settlement Phase - Early PoP
participant Alice
participant Bob
participant Carol
participant Dave

== Settlement ==

Dave -> Alice: send D's preimage

Dave -> Carol: update_fulfill_htlc\n- A's preimage\n- D's preimage
Carol -> Bob: update_fulfill_htlc\n- A's preimage\n- D's preimage
Bob -> Alice: update_fulfill_htlc\n- A's preimage\n- D's preimage

Dave <-> Carol: commit
Carol <-> Bob: commit
Bob <-> Alice: commit

@enduml
