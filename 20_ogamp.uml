@startuml
'title Payment Sequence - OG AMP (single-path)
hide footbox
participant Alice
participant Bob
participant Carol
participant Dave

== Update ==

Alice -> Bob: update_add_htlc\n- A's payment hash\n- A's preimage
Alice <-> Bob: commit

Bob -> Carol: update_add_htlc\n- A's payment hash\n- A's preimage
Bob <-> Carol: commit

Carol -> Dave: update_add_htlc\n- A's payment hash\n- A's preimage
Carol <-> Dave: commit

newpage

== Settlement ==

Dave -> Carol: update_fulfill_htlc\n- A's preimage
Carol -> Bob: update_fulfill_htlc\n- A's preimage
Bob -> Alice: update_fulfill_htlc\n- A's preimage

Dave <-> Carol: commit
Carol <-> Bob: commit
Bob <-> Alice: commit

@enduml
